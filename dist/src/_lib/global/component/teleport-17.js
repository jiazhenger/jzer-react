import e from"../../_node/@babel/runtime/helpers/esm/classCallCheck.js";import t from"../../_node/@babel/runtime/helpers/esm/createClass.js";import r from"../../_node/@babel/runtime/helpers/esm/assertThisInitialized.js";import n from"../../_node/@babel/runtime/helpers/esm/inherits.js";import o from"../../_node/@babel/runtime/helpers/esm/possibleConstructorReturn.js";import l from"../../_node/@babel/runtime/helpers/esm/getPrototypeOf.js";import i from"../../_node/@babel/runtime/helpers/esm/defineProperty.js";import u from"react";import s from"react-dom";function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var i=l(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return o(this,r)}}var m=function(o){n(m,o);var l=a(m);function m(){var t;e(this,m);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=l.call.apply(l,[this].concat(o)),i(r(t),"getNode",(function(){var e=t.props.el;return e?document.querySelector(e):document.body})),i(r(t),"retContainer",(function(){if(!t.el){var e,r=document.createElement(t.props.tag||"div");r.setAttribute("name",null!==(e=t.props.name)&&void 0!==e?e:"global"),t.el=r,t.getNode().appendChild(t.el)}return t.el})),i(r(t),"retContent",(function(){return u.createElement(u.Fragment,null,t.props.children)})),i(r(t),"renderSubtree",(function(){s.unstable_renderSubtreeIntoContainer(r(t),t.retContent(),t.retContainer())})),t}return t(m,[{key:"componentDidMount",value:function(){this.props.isUpdate||this.renderSubtree()}},{key:"componentDidUpdate",value:function(){this.props.isUpdate&&this.renderSubtree()}},{key:"componentWillUnmount",value:function(){this.el&&this.getNode().removeChild(this.el)}},{key:"render",value:function(){return null}}]),m}(u.Component);export{m as default};
