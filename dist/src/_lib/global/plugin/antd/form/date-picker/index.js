import e from"../../../../../_node/@babel/runtime/helpers/esm/defineProperty.js";import t from"../../../../../_node/@babel/runtime/helpers/esm/slicedToArray.js";import r from"react";import{DatePicker as n}from"antd";import o from"moment";import a from"./utils.js";function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?l(Object(n),!0).forEach((function(r){e(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m=window.$fn,u=function(e){var l=e.style,u=e.name,c=e.label,s=e.s,f=void 0===s?"-":s,d=e.format,p=void 0===d?0:d,b=e.p,y=e.hint,v=void 0===y?"请选择":y,O=e.width,Y=e.type,h=e.after,j=e.before,w=e.today,g=e.out,D=e.value,H=e.disabled,P=e.allowClear,E=void 0===P||P,M=e.onChange,C=e.onChanged,T=e.form,k=e.antd,x=void 0===k?{}:k,S=e.start,A=e.end,F=void 0===A?"23:59:59":A,V=r.useState(),_=t(V,2),N=_[0],R=_[1],$="date-range"===Y;$||(b=b||v+c);var q=["YYYY".concat(f,"MM").concat(f,"DD"),"YYYY".concat(f,"MM").concat(f,"DD HH:mm:ss"),"YYYY".concat(f,"MM").concat(f,"DD HH:mm")],z=p;"year"===x.picker?z="YYYY":m.isNumber(p)&&(z=q[p]);var B=-1!==q[p].indexOf("HH"),G=null;$?B&&(0===S&&(S="00:00:00"),0===F&&(F="00:00:00"),G={defaultValue:[S?o(S,"HH:mm:ss"):null,F?o(F,"HH:mm:ss"):null]}):B&&(0===S&&(S="00:00:00"),G=!S||{defaultValue:o(S,"HH:mm:ss")});r.useEffect((function(){R((function(){return $&&m.hasArray(D)?[null!=D&&D[0]?o(D[0],z):null,null!=D&&D[1]?o(D[1],z):null]:D?o(D,z):null}))}),[D]);return x=i({disabled:H,allowClear:E,placeholder:b,value:N,style:i({width:O},l),showTime:G,format:z,disabledDate:function(e){return a.disabledDate({current:e,after:h,before:j,today:w,moment:o})},disabledTime:B?function(){return a.disabledTime({after:h,before:j})}:null,onChange:function(e,t){if(g||R(e),null==M||M(t),C||T){var r=m.getFormFormat({label:c,name:u,value:t,form:T,formType:"text"});null==C||C(r)}},allowEmpty:$?[!0,!0]:null},x),$?r.createElement(n.RangePicker,x):r.createElement(n,x)};export{u as default};
