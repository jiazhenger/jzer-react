import e from"../../../../_node/@babel/runtime/helpers/esm/extends.js";import t from"../../../../_node/@babel/runtime/helpers/esm/defineProperty.js";import r from"../../../../_node/@babel/runtime/helpers/esm/slicedToArray.js";import n from"react";import{Select as a}from"antd";function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?o(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i=window,u=i.$fn,s=i.$config,m=function(t){var o,i=t.className,m=t.style;t.size;var c=t.name,d=t.p,p=t.hint,f=void 0===p?"请选择":p,b=t.label,v=t.width,O=t.out,h=t.mul,y=t.value,g=t.disabled,j=t.readOnly,w=t.allowClear,S=void 0===w||w,E=t.onChange,P=t.onChanged,C=t.form,x=t.submit,N=t.sname,D=t.antd,k=void 0===D?{}:D,A=t.api,L=t.param,T=t.paging,_=t.data,F=t.idStr,$=void 0===F?s.idStr:F,z=t.nameStr,R=void 0===z?s.nameStr:z,W=t.cache,q=t.setName,B=n.useState(null!=y?y:""),G=r(B,2),H=G[0],I=G[1],J=n.useState(_),K=r(J,2),M=K[0],Q=K[1],U=n.useState(),V=r(U,2),X=V[0],Y=V[1];d=d||f+(b||""),k=l({className:i,disabled:g,readOnly:j,allowClear:S,value:O?u.isNotEmpty(y)?y:null:H,placeholder:d,mode:h?"multiple":"combobox",maxTagCount:20,loading:X,showSearch:!0,virtual:(null==M?void 0:M.length)>20,style:l({minWidth:v},m),filterOption:null!==(o=k)&&void 0!==o&&o.dropdownRender?null:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},k),h&&null===k.value&&delete k.value,n.useEffect((function(){O||I(y)}),[y]),n.useEffect((function(){Q(_)}),[_]),n.useEffect((function(){return u.ajax({setAjax:Q,setLoading:Y,api:A,data:M,cache:W,paging:T,param:L,setName:q})}),[]);return n.createElement(a,e({onChange:function(e,t){if(O||I(e),null==E||E(e),P||C||x){var r=u.getFormFormat({label:b,name:c,value:e,idStr:$,nameStr:R,data:M,form:C,sname:N,submit:x,formType:"select"});null==P||P(r)}}},k),u.hasArray(M)&&M.map((function(e,t){var r,o;return u.hasObject(e)?n.createElement(a.Option,{key:t,value:null!==(r=e[$])&&void 0!==r?r:e[R]},null!==(o=e[R])&&void 0!==o?o:e[$]):n.createElement(a.Option,{key:t,value:e},e)})))};export{m as default};
