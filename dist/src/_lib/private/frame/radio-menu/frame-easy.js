import e from"../../../_node/@babel/runtime/helpers/esm/slicedToArray.js";import t,{useState as r,useEffect as o}from"react";import{useHistory as n}from"react-router-dom";import{getRootPath as l,getChildren as c}from"../utils/index.js";import s from"./utils/getRouter.js";import a from"./cpt/menu.js";import i from"../cpt/user-control.js";import m from"../../../_node/@ant-design/icons/es/icons/MenuUnfoldOutlined.js";import u from"../../../_node/@ant-design/icons/es/icons/MenuFoldOutlined.js";var d=window,f=d.$lazy,p=d.$,h=f.load((function(){return import("../../../global/template/scroll.js")})),E=f.load((function(){return import("../router.js")})),y=function(d){var f=d.openAll,y=r([]),x=e(y,2),g=x[0],j=x[1],v=r(),w=e(v,2),N=w[0],b=w[1],T=r(0),_=e(T,2),k=_[0],M=_[1],S=r(l()),q=e(S,1)[0],z=n();return o((function(){p.getMenu().then((function(e){return j(s(c(e,q),q,f))}))}),[z,q,f]),o((function(){setTimeout((function(){var e=document.querySelector("#active");e&&(document.querySelector("#scroll").scrollTop=e.offsetTop)}),300),window.refreshRouter=function(){return M((function(e){return e+1}))}}),[]),t.createElement("section",{className:"fix_full fv"},t.createElement("header",{className:"h50 bcf fx"},t.createElement("div",{style:{width:200,fontSize:26},className:"h fxmc cp tap c0",onClick:function(){return z.replace("/index")}},"logo"),t.createElement("span",{className:"cp c0 f18 tap h fxmc",style:{width:50},onClick:function(){return b((function(e){return!e}))}},N?t.createElement(m,null):t.createElement(u,null)),t.createElement(i,{api:"user/logout"})),t.createElement("div",{className:"ex fx",style:{marginTop:1}},t.createElement("div",{className:"h rel bcf",style:{width:200},hidden:N},t.createElement(h,{id:"scroll",scroll:"oys"},t.createElement(a,{data:g}))),t.createElement("div",{className:"ex rel",style:{margin:5}},t.createElement(E,{data:g,rootPath:q,hasFolder:!1,key:k}))))};export{y as default};
