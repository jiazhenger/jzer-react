import e from"../../../_node/@babel/runtime/helpers/esm/extends.js";import t from"../../../_node/@babel/runtime/helpers/esm/defineProperty.js";import r from"../../../_node/@babel/runtime/helpers/esm/slicedToArray.js";import n from"react";function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?a(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var o=window,i=o.$lazy,s=o.$http,c=i.load((function(){return import("../../../global/plugin/antd/form/input.js")})),u=function(a){var o=a.className;a.style;var i=a.name,u=a.label,m=a.size,p=void 0===m?"small":m,d=a.p,f=a.value,b=a.disabled,g=a.onChange,v=a.onChanged,O=a.onClick,j=a.input,y=void 0===j?{}:j,h=a.api,w=a.src,P=a.idStr,E=void 0===P?"id":P,C=a.imgStr,k=void 0===C?"img":C,N=a.param,S=n.useState(w),x=r(S,2),D=x[0],z=x[1];y=l({className:o,disabled:b,p:d,label:u,name:i,size:p,value:f,out:1},y),n.useEffect((function(){return z(w)}),[w]);var _=n.useCallback((function(){h?s.post(null,h,{token:!1,loadingText:"数据加载中"}).then((function(e){var t=e[k],r=t.includes("base64")?t:"data:image/jpg;base64,".concat(t).replace(/[\r\n]/g,"");z(r),e[E]&&N&&(N[E]=e[E])})):null==O||O()}),[h,k,E,O,N]);n.useEffect((function(){return _()}),[_]);return n.createElement("div",{className:"fx"},n.createElement(c,e({onChange:function(e){var r=i?{model:t({},i,e)}:null;null==g||g(e),null==v||v(l({value:e,label:u},r))}},y)),n.createElement("div",{className:"ml5",style:{height:34}},D&&n.createElement("img",{src:D,className:"cp nowrap h",onClick:_,alt:"图片验证码"})))};export{u as default};
