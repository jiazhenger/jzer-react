"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkjzer_react_template"] = self["webpackChunkjzer_react_template"] || []).push([["src__pub_global_plugin_antd_table_index_jsx"],{

/***/ "./src/_pub/common/utils/time.js":
/*!***************************************!*\
  !*** ./src/_pub/common/utils/time.js ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\nconst formatNumber = function (n) {\n  n = n.toString();\n  return n[1] ? n : '0' + n;\n};\nconst join = function (arr, split) {\n  return arr.map(formatNumber).join(split);\n};\nconst _ = {\n  full: function (time) {\n    var date = new Date(time);\n    return {\n      year: date.getFullYear(),\n      month: date.getMonth() + 1,\n      day: date.getDate(),\n      h: date.getHours(),\n      m: date.getMinutes(),\n      s: date.getSeconds()\n    };\n  },\n  format: function (time, option) {\n    var opt = {\n      s: '-',\n      l: 'en',\n      t: 'ymd',\n      ...option\n    };\n    var str = null;\n    var date = null;\n    if (typeof time === 'string') {\n      date = this.getTime(time);\n    } else if (time instanceof Date) {\n      date = time.getTime();\n    } else {\n      date = time;\n    }\n    if (date) {\n      var t = this.full(date);\n      switch (opt.t) {\n        case 'full':\n          str = join([t.year, t.month, t.day], opt.s) + ' ' + join([t.h, t.m, t.s], ':');\n          break;\n        case 'ymd-last':\n          const hm = opt.custom ? join([t.h, t.m, t.s], ':') : '23:59:59';\n          str = join([t.year, t.month, t.day], opt.s) + ' ' + hm;\n          break;\n        case 'ymd-hm':\n          str = join([t.year, t.month, t.day], opt.s) + ' ' + join([t.h, t.m], ':');\n          break;\n        case 'ymd':\n          str = opt.l === 'zh' ? t.year + '年' + t.month + '月' + t.day + '日' : join([t.year, t.month, t.day], opt.s);\n          break;\n        case 'hms':\n          str = join([t.h, t.m, t.s], ':');\n          break;\n        case 'hm':\n          str = join([t.h, t.m], ':');\n          break;\n        default:\n          break;\n      }\n    }\n    return str;\n  },\n  getTime(time) {\n    return time ? new Date(time).getTime() : new Date().getTime();\n  },\n  // 获取当前时间\n  getNow() {\n    return this.format(this.getTime(), {\n      t: 'full'\n    });\n  },\n  // 获取时间段\n  duration: {\n    // 时长 1 天，当天 0 点， 到晚上 12 点\n    '1-0-12': () => {\n      const dur = 1000 * 60 * 60 * 24;\n      const now = _.getTime();\n      return [_.format(now) + ' 00:00:00', _.format(now + dur) + ' 23:59:59'];\n    },\n    // 前两天\n    '-2-09-12': () => {\n      const dur = 1000 * 60 * 60 * 24 * 2;\n      const now = _.getTime();\n      return [_.format(now - dur) + ' 09:00:00', _.format(now) + ' 23:59:59'];\n    },\n    // 时长 7 天，当天 0 点， 到晚上 12 点\n    '7-0-12': () => {\n      const dur = 1000 * 60 * 60 * 24 * 7;\n      const now = _.getTime();\n      return [_.format(now) + ' 00:00:00', _.format(now + dur) + ' 23:59:59'];\n    }\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (_);\n\n//# sourceURL=webpack://jzer-react-template/./src/_pub/common/utils/time.js?");

/***/ }),

/***/ "./src/_pub/global/plugin/antd/table/index.jsx":
/*!*****************************************************!*\
  !*** ./src/_pub/global/plugin/antd/table/index.jsx ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ \"./node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! antd */ \"./node_modules/antd/es/table/index.js\");\n/* harmony import */ var virtuallist_antd__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! virtuallist-antd */ \"./node_modules/virtuallist-antd/dist/index.es.js\");\n/* harmony import */ var _utils_tool__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/tool */ \"./src/_pub/global/plugin/antd/table/utils/tool.js\");\n\n\n/* -------------------------------------------------------- antd -- */\n\n\n/* -------------------------------------------------------- Sync Function -- */\n\n/* -------------------------------------------------------- Declare -- */\nconst {\n  $fn,\n  $config,\n  $http,\n  $lazy,\n  $\n} = window;\n/* -------------------------------------------------------- Async Component -- */\nconst Pagination = $lazy.load(() => __webpack_require__.e(/*! import() */ \"src__pub_global_plugin_antd_pagination_jsx\").then(__webpack_require__.bind(__webpack_require__, /*! @antd/pagination */ \"./src/_pub/global/plugin/antd/pagination.jsx\")));\nconst Empty = $lazy.load(() => __webpack_require__.e(/*! import() */ \"src__pub_global_plugin_antd_empty_jsx-_6f6d0\").then(__webpack_require__.bind(__webpack_require__, /*! @antd/empty */ \"./src/_pub/global/plugin/antd/empty.jsx\")));\nconst Loading = $lazy.load(() => __webpack_require__.e(/*! import() */ \"src__pub_global_plugin_antd_loading_jsx-_06dc0\").then(__webpack_require__.bind(__webpack_require__, /*! @antd/loading */ \"./src/_pub/global/plugin/antd/loading.jsx\")));\nconst Controls = $lazy.load(() => Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_prop-types_index_js\"), __webpack_require__.e(\"vendors-node_modules_react-router_esm_react-router_js\"), __webpack_require__.e(\"src__pub_private_component_temp_Controls_jsx\")]).then(__webpack_require__.bind(__webpack_require__, /*! #cpt/temp/Controls */ \"./src/_pub/private/component/temp/Controls.jsx\")));\n// const ResizeableTitle = $lazy.load(()=>import('./resizeable/cpt/ResizeableTitle'))\n/* -------------------------------------------------------- 设置组件之间的间 -- */\nconst Index = ({\n  className,\n  /** @param {String}\t\t\t\t# 盒子 className */\n  style,\n  /** @param {String}\t\t\t\t# 盒子 style */\n  // Table\n  data = [],\n  /** @param {Array}\t\t\t\t# 表格数据 */\n  cols = [],\n  /** @param {Array}\t\t\t\t# 表格列数据 */\n  components,\n  /** @param {Array}\t\t\t\t# 自自定义组件 */\n  // Pagination\n  pag,\n  /** @param {Object, Boolean}\t# 分页配置，如果为 false 无分页 */\n  prefix,\n  /** @param {Component}\t\t\t# 前缀 */\n  suffix,\n  /** @param {Component}\t\t\t# 后缀 */\n  // Empty\n  simple,\n  /** @param {Boolean}\t\t\t# 简单图标 */\n  // Loding\n  loadingSize,\n  /** @param {Boolean}\t\t\t# 简单图标 */\n  // 自定义\n  size = 'middle',\n  /** @param {String}\t\t\t\t# 表格大小 */\n  width = '100%',\n  /** @param {String, Boolean}\t# 表格宽度 */\n  idStr = $config.pullIdName,\n  /** @param {String}\t\t\t\t# 表格操作字段名 */\n  loading,\n  /** @param {Array}\t\t\t\t# 加载效果 */\n  height,\n  /** @param {String,Number}\t\t# 表格高度 */\n  init = true,\n  /** @param {Boolean}\t\t\t# 是否初始化加载 */\n  isNoMb,\n  /** @param {Boolean}\t\t\t# 是否距离底部有间距 */\n  isIndex,\n  /** @param {Boolean}\t\t\t# 是否用索引值替代 key */\n  pb = 'pb10',\n  /** @param {String}\t\t\t\t# 底部补白 */\n  row,\n  /** @param {Object}\t\t\t\t# 多选与单选 */\n  keys = [],\n  /** @param {Array}\t\t\t\t# 外部 keys */\n  onKeysChange,\n  /** @param {Event}\t\t\t\t# 外部 keys 改变时 */\n  onRow,\n  /** @param {Event}\t\t\t\t# 多选与单选 */\n  resize,\n  /** @param {Boolean}\t\t\t# 是否允许拖动表格宽度 */\n  max = 50,\n  /** @param {Boolean}\t\t\t# 超过多少条数据虚拟滚动 */\n  rightSlot,\n  /** @param {Boolean}\t\t\t# 左侧控件 */\n  // http\n  api,\n  /** @param {String}\t\t\t\t# 列表 api */\n  ctrApi,\n  /** @param {String}\t\t\t\t# 增删改查四合一 api */\n  addApi,\n  /** @param {String}\t\t\t\t# 增 api */\n  modApi,\n  /** @param {String}\t\t\t\t# 改 api */\n  infoApi,\n  /** @param {String}\t\t\t\t# 查 api */\n  delApi,\n  /** @param {String}\t\t\t\t# 删 api */\n  clearApi,\n  /** @param {String, Boolean}\t# 要清除的缓存 api */\n  paging = true,\n  /** @param {Boolean}\t\t\t# 请求接口是否分页 */\n  onLoading,\n  /** @param {Event}\t\t\t\t# 加载时执行 */\n  onSuccess,\n  /** @param {Event}\t\t\t\t# 请求成功后执行 */\n  setName,\n  /** @param {Function}\t\t\t# 自定义数据显示字段 */\n  // 操作按钮\n  controls,\n  /** @param {Array}\t\t\t\t# 操作按钮组 */\n  //\n  search = {},\n  /** @param {Object}\t\t\t\t# 搜索配置 */\n  // 作为 Form 的元素\n  isRows,\n  /** @param {Boolean}\t\t\t# 暴露参数是否是 rows 数据 */\n  isSubmitForm,\n  /** @param {Boolean}\t\t\t# 是否是在提交表单中 */\n  onChange,\n  /** @param {Event}\t\t\t\t# 表单自动提交事件 */\n  value = [],\n  /** @param {Array}\t\t\t\t# 接收表单数据 */\n  // antd\n  antd,\n  /** @param {Object}\t\t\t\t# antd */\n  emptyText /** @param {Object}\t\t\t\t# 自定义空数据时提示 */\n}, ref) => {\n  var _ajax$data2, _ajax$data3, _ajax$data4, _ajax$pager3, _ajax$pager4;\n  data = $fn.getArray(data);\n  idStr = isIndex ? 'index' : idStr;\n  if ($fn.hasArray(data) && isIndex) data = data.map((v, i) => ({\n    ...v,\n    index: i\n  }));\n  const [ajax, setAjax] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n    data,\n    loading\n  });\n  const isAuto = height === 'auto';\n  const isPaging = paging !== 0 && paging !== false;\n  const tableDomRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n  /* --------------------------- 表单中的 table --------------------------- */\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (isSubmitForm) {\n      let rs = $fn.isArray(value) ? value : [];\n      if (row) {\n        setSelectedRowKeys(rs);\n      } else {\n        if (isIndex) rs = (v, i) => ({\n          ...v,\n          index: i\n        });\n        setTimeout(() => setAjax({\n          data: [...rs]\n        }), 50);\n      }\n    }\n  }, [row, isIndex, isSubmitForm, value]);\n  /* --------------------------- 滚动顶部 --------------------------- */\n  const scrollTop = value => {\n    const {\n      current\n    } = tableDomRef;\n    if (current) {\n      if ($fn.isNumber(value)) {\n        current.querySelector('.ant-table-body').scrollTop = value;\n      } else {\n        return current.querySelector('.ant-table-body').scrollTop;\n      }\n    }\n  };\n  const scrollRest = value => {\n    if (!isAuto) {\n      scrollTop(value ?? 0);\n    }\n  };\n  /* --------------------------- ajax --------------------------- */\n  const fetch = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(option => {\n    let {\n      param,\n      query,\n      arg,\n      scroll,\n      resetEmpty,\n      resetSearch\n    } = option ?? {};\n    param = $fn.getResult(param);\n    param = $fn.getSubmitParam(search.data, param);\n    query = $fn.getResult(query);\n    arg = $fn.getResult(arg);\n    if (arg) {\n      setAjax.arg = arg;\n    }\n    if (api) {\n      onLoading === null || onLoading === void 0 ? void 0 : onLoading(true);\n      $http.paging(setAjax, api, {\n        param,\n        query,\n        arg,\n        paging,\n        onEnd: v => onLoading === null || onLoading === void 0 ? void 0 : onLoading(false),\n        setName: setName ? setName : isIndex ? (v, i) => ({\n          index: i\n        }) : null,\n        setParam: search === null || search === void 0 ? void 0 : search.setParam,\n        resetEmpty,\n        resetSearch\n      }).then(({\n        data,\n        rows\n      }) => {\n        if (row !== null && row !== void 0 && row.keys) {\n          setKeys(row.keys);\n        }\n        if (scroll === 1) {\n          scrollRest(window.innerHeight);\n        } else if (scroll === 0) {} else {\n          scrollRest();\n        }\n        onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess(rows ? rows : data, {\n          param,\n          query\n        });\n      });\n    }\n  }, []); // eslint-disable-line\n  // 排序\n  const onSort = (pagination, filters, sorter) => {\n    let type = null;\n    if (sorter.order === 'ascend') {\n      // 升序\n      type = 'asc';\n    } else if (sorter.order === 'descend') {\n      // 降序\n      type = 'desc';\n    } else {\n      type = 0; // 不排序\n    }\n\n    const param = type ? {\n      sort: sorter.field,\n      sort_type: type\n    } : null;\n    if (param) {\n      setAjax.model = {\n        ...setAjax.model,\n        ...param\n      };\n    } else {\n      delete setAjax.model.sort;\n      delete setAjax.model.sort_type;\n    }\n    fetch({\n      scroll: true\n    });\n  };\n  /* --------------------------- 默认请求列表 --------------------------- */\n  const onInitFetch = () => {\n    const defaultParam = _utils_tool__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getParam($fn.getResult(search.data));\n    const param = $fn.getResult(search === null || search === void 0 ? void 0 : search.param);\n    const query = $fn.getResult(search === null || search === void 0 ? void 0 : search.query);\n    fetch({\n      param: {\n        ...defaultParam,\n        ...param\n      },\n      query,\n      scroll: true\n    });\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (init) {\n      onInitFetch();\n    }\n  }, []); // eslint-disable-line\n  /* --------------------------- 处理 cols --------------------------- */\n  const getCols = cols => {\n    cols = $fn.getResult(cols);\n    if (!Array.isArray(cols)) {\n      return console.log('cols 必须是一个数组');\n    }\n    cols = cols.filter(v => $fn.hasObject(v));\n    const _controls = $fn.getResult(controls);\n    if ($fn.hasObject(_controls)) {\n      let controlSize = _controls.size ?? 'small';\n      if (size === 'small') {\n        controlSize = 'mini';\n      }\n      const {\n        data,\n        align = 'center',\n        right = 1\n      } = _controls;\n      const fixed = right ? 'right' : 'left';\n      const ctrl = {\n        title: '操作',\n        width: 120,\n        align,\n        fixed,\n        render: (record, row, index) => {\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(Controls, {\n            size: controlSize,\n            align: align,\n            data: data === null || data === void 0 ? void 0 : data(record, index),\n            table: {\n              ctrApi,\n              clearApi,\n              delApi,\n              infoApi,\n              modApi,\n              addApi,\n              record,\n              api,\n              idStr,\n              tableRef\n            },\n            isTable: true\n          });\n        },\n        ..._controls\n      };\n      return right ? [...cols, ctrl] : [ctrl, ...cols];\n    } else {\n      return cols ?? [];\n    }\n  };\n  const [col, setCol] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => $fn.hasArray(cols) && setCol(getCols(cols)), [cols]); // eslint-disable-line\n\n  /* --------------------------- 单选与多选 --------------------------- */\n  const [selectedRowKeys, setSelectedRowKeys] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((row === null || row === void 0 ? void 0 : row.keys) ?? []);\n  //\n  const checkbox = ['checkbox', 'radio'];\n  const rowSelection = $fn.isObject(row) && $fn.hasArray(ajax.data) ? {\n    columnWidth: 50,\n    type: row !== null && row !== void 0 && row.type ? checkbox[row === null || row === void 0 ? void 0 : row.type] : checkbox[0],\n    selectedRowKeys,\n    // 选框改变时执行\n    onChange(keys, rows) {\n      setKeys(keys, rows);\n    },\n    onSelect(record, selected, selectedRows) {},\n    // 全选\n    onSelectAll(selected, rows, changeRows) {},\n    // 判断行属性\n    getCheckboxProps: record => {\n      const {\n        disabledKeys\n      } = row ?? {};\n      if ($fn.isFunction(disabledKeys)) {\n        const disabled = disabledKeys === null || disabledKeys === void 0 ? void 0 : disabledKeys(record);\n        record.disabled = disabled;\n        return {\n          disabled\n        };\n      } else {\n        if ($fn.hasArray(disabledKeys)) {\n          const disabled = disabledKeys.includes(record[idStr]);\n          record.disabled = disabled;\n          return {\n            disabled\n          };\n        } else {\n          return {};\n        }\n      }\n    },\n    ...(row === null || row === void 0 ? void 0 : row.antd)\n  } : null;\n  // 自定义点击行\n  const _onRow = record => ({\n    onClick: () => {\n      if ($fn.isObject(row)) {\n        var _row$onRow;\n        if (record.disabled) {\n          return;\n        }\n        let {\n          type,\n          keys = []\n        } = row;\n        const key = record[idStr];\n        if (selectedRowKeys.includes(key)) {\n          var _row$onRowFalse;\n          const index = keys.findIndex(v => v === key);\n          keys.splice(index, 1);\n          row === null || row === void 0 ? void 0 : (_row$onRowFalse = row.onRowFalse) === null || _row$onRowFalse === void 0 ? void 0 : _row$onRowFalse.call(row, record, tableRef);\n        } else {\n          var _row$onRowTure;\n          const v = record[idStr];\n          if (type === 1) {\n            keys = [v];\n          } else {\n            keys.push(v);\n          }\n          row === null || row === void 0 ? void 0 : (_row$onRowTure = row.onRowTure) === null || _row$onRowTure === void 0 ? void 0 : _row$onRowTure.call(row, record, tableRef);\n        }\n        setKeys(keys);\n        row === null || row === void 0 ? void 0 : (_row$onRow = row.onRow) === null || _row$onRow === void 0 ? void 0 : _row$onRow.call(row, {\n          row: record,\n          keys: getKeys(),\n          rows: () => getRows(keys),\n          tableRef\n        });\n        onRow === null || onRow === void 0 ? void 0 : onRow({\n          row: record,\n          keys,\n          rows: getRows,\n          tableRef\n        });\n      } else {\n        onRow === null || onRow === void 0 ? void 0 : onRow(record);\n      }\n    }\n  });\n  // 清除 keys\n  const clearKeys = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    if (row && $fn.hasArray(selectedRowKeys)) setKeys([]);\n  }, [selectedRowKeys]); // eslint-disable-line\n  // 设置 keys\n  const setKeys = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((keys, rows) => {\n    var _row$change;\n    if (!$fn.hasArray(ajax.data)) return;\n    const k = row !== null && row !== void 0 && row.type ? $fn.hasArray(keys) ? keys : [keys] : keys;\n    row.keys = k;\n    setSelectedRowKeys([...k]);\n    onKeysChange === null || onKeysChange === void 0 ? void 0 : onKeysChange([...k]);\n    if (isSubmitForm) {\n      onChange === null || onChange === void 0 ? void 0 : onChange(k);\n    }\n    row === null || row === void 0 ? void 0 : (_row$change = row.change) === null || _row$change === void 0 ? void 0 : _row$change.call(row, {\n      keys: row.type ? (keys === null || keys === void 0 ? void 0 : keys[0]) ?? null : keys,\n      rows: $fn.hasArray(rows) ? () => row.type ? rows === null || rows === void 0 ? void 0 : rows[0] : rows : () => getRows(keys),\n      tableRef\n    });\n  }, [ajax.data]); // eslint-disable-line\n  const getKeys = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    if ($fn.isObject(row)) {\n      const {\n        type\n      } = row;\n      return type ? $fn.hasArray(selectedRowKeys) ? selectedRowKeys[0] : null : selectedRowKeys ?? [];\n    } else {\n      return row !== null && row !== void 0 && row.type ? null : [];\n    }\n  }, [selectedRowKeys, row]);\n  //设置 rows\n  const setRows = rows => setKeys(rows.map(v => v[idStr]));\n  // 获取 rows\n  const getRows = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function () {\n    const keys = (arguments.length === 0 ? selectedRowKeys : arguments[0]) ?? [];\n    const d = ajax.data.filter(v => {\n      var _keys$includes;\n      return keys === null || keys === void 0 ? void 0 : (_keys$includes = keys.includes) === null || _keys$includes === void 0 ? void 0 : _keys$includes.call(keys, v[idStr]);\n    });\n    return row !== null && row !== void 0 && row.type ? d[0] ?? null : d;\n  }, [row, ajax.data, selectedRowKeys]); // eslint-disable-line\n  /* --------------------------- Expose --------------------------- */\n  const tableRef = {\n    refresh: scroll => fetch({\n      scroll: scroll ?? true\n    }),\n    search: option => {\n      const {\n        param,\n        query,\n        arg,\n        scroll = true\n      } = option ?? {};\n      search.query = {\n        ...(search === null || search === void 0 ? void 0 : search.query),\n        ...query\n      };\n      fetch({\n        param: isPaging ? {\n          ...param,\n          page: 1\n        } : param,\n        query: search.query,\n        arg,\n        scroll\n      });\n      clearKeys();\n    },\n    reset: () => {\n      var _ajax$pager;\n      setAjax.model = isPaging ? {\n        page: 1,\n        size: ((_ajax$pager = ajax.pager) === null || _ajax$pager === void 0 ? void 0 : _ajax$pager.size) ?? $config.paging.pageSize\n      } : {};\n      onInitFetch();\n    },\n    // 清空全部搜索参数，并将数据置空，不搜索\n    resetEmpty: () => {\n      fetch({\n        resetEmpty: true\n      });\n      clearKeys();\n    },\n    // 清空全部搜索参数并搜索\n    resetSearch: () => {\n      fetch({\n        resetSearch: true\n      });\n      clearKeys();\n    },\n    refreshClear: scroll => {\n      fetch({\n        scroll: scroll ?? true\n      });\n      clearKeys();\n    },\n    getParam: () => {\n      var _ajax$pager2;\n      return (ajax === null || ajax === void 0 ? void 0 : (_ajax$pager2 = ajax.pager) === null || _ajax$pager2 === void 0 ? void 0 : _ajax$pager2.param) || {};\n    },\n    // 获取所有参数\n    getArg: () => setAjax.arg || {},\n    // 获取额外参数\n    // 设置选中\n    clearKeys,\n    keys() {\n      return arguments.length === 1 ? setKeys(arguments[0]) : getKeys();\n    },\n    rows() {\n      return arguments.length === 1 ? setRows(arguments[0]) : getRows();\n    },\n    data() {\n      if (arguments.length === 1) {\n        let d = arguments[0];\n        d = Array.isArray(d) ? d : [];\n        setAjax(() => ({\n          data: d.length === 0 ? [] : [...d]\n        }));\n      } else {\n        return ajax.data;\n      }\n    },\n    del(index) {\n      ajax.data.splice(index, 1);\n      this.data(ajax.data);\n    },\n    // 强制更新\n    update() {\n      setAjax(() => ({\n        data: $fn.deepCopy(ajax.data)\n      }));\n    }\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(ref, () => tableRef);\n  /* --------------------------- 虚拟滚动 --------------------------- */\n  const [component, setComponent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)();\n  const wrapRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef();\n  // 拖动表格宽\n  /*\r\n  const handleResize = index => (e, { size }) => {\r\n  \tsetCol(col => {\r\n  \t\tconst nextColumns = [...col];\r\n  \t\tnextColumns[index] = { ...nextColumns[index], width: size.width }\r\n  \t\treturn nextColumns\r\n  \t})\r\n  }\r\n  */\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    var _ajax$data;\n    const _component = (ajax === null || ajax === void 0 ? void 0 : (_ajax$data = ajax.data) === null || _ajax$data === void 0 ? void 0 : _ajax$data.length) > max ? {\n      ...(0,virtuallist_antd__WEBPACK_IMPORTED_MODULE_2__.VList)({\n        height: height ?? wrapRef.current.offsetHeight\n      }),\n      ...components\n    } : {\n      ...components\n    };\n    /*\r\n    if( resize ){\r\n    \t_component.header = { cell: ResizeableTitle }\r\n    \tsetCol(col => col.map((col, index) => ({\r\n    \t\t...col,\r\n    \t\tonHeaderCell: column => {\r\n    \t\t\tconst { width, resize } = column\r\n    \t\t\treturn resize !== false && resize !== 0  ? {\r\n    \t\t\t\twidth,\r\n    \t\t\t\tonResize: handleResize(index)\r\n    \t\t\t\t// style: { cursor: 'move' },\r\n    \t\t\t} : null\r\n    \t\t}\r\n    \t})))\r\n    }\r\n    */\n    setComponent(_component);\n  }, [ajax.data]); // eslint-disable-line\n  const TableComponent = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(antd__WEBPACK_IMPORTED_MODULE_4__[\"default\"], (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    style: {\n      zIndex: ajax.loading ? 1 : 0\n    },\n    rowKey: r => isIndex ? r['index'] : r[idStr],\n    columns: col,\n    dataSource: $fn.getArray(ajax.data),\n    scroll: {\n      y: !$fn.hasArray(ajax.data) || isAuto ? null : true,\n      x: width\n    },\n    sticky: true,\n    pagination: false,\n    bordered: true,\n    rowSelection: rowSelection,\n    onChange: onSort,\n    onRow: _onRow,\n    components: component,\n    expandRowByClick: true\n  }, antd));\n  const loadingComponent = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(Loading, {\n    loading: ajax.loading,\n    size: loadingSize,\n    style: {\n      zIndex: 2\n    }\n  });\n  const emptyComponent = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(Empty, {\n    loading: ajax.loading,\n    data: ajax.data,\n    simple: simple,\n    style: {\n      zIndex: 1\n    },\n    msg: emptyText ? emptyText : init === false ? '请按条件搜索数据' : '暂无数据'\n  });\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n    ref: wrapRef,\n    className: `ex rel ${$.css((ajax === null || ajax === void 0 ? void 0 : (_ajax$data2 = ajax.data) === null || _ajax$data2 === void 0 ? void 0 : _ajax$data2.length) === 0, 'oh')} ${$.css(!isAuto, 'fv')} ${$.css(pag === false, pb)} jzer-form-small ${$.css(className)}`,\n    style: {\n      height,\n      ...style\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n    ref: tableDomRef,\n    className: `\n\t\t\t\t\tjzer-table ex rel\n\t\t\t\t\tjzer-table-${size}\n\t\t\t\t\tjzer-table-${simple ? 'simple' : 'no-simple'}\n\t\t\t\t\t${$.css((pag === false && !isAuto || (ajax === null || ajax === void 0 ? void 0 : (_ajax$data3 = ajax.data) === null || _ajax$data3 === void 0 ? void 0 : _ajax$data3.length) === 0) && !rightSlot, 'bbor1')} \n\t\t\t\t\t${!$fn.hasArray(ajax.data) && !isNoMb ? 'mb10' : ''} \n\t\t\t\t\t${$.css(!isAuto, 'jzer-table-scroll')}\n\t\t\t\t\t${$.css(rightSlot, 'fx')}\n\t\t\t\t`,\n    style: {\n      minHeight: simple ? 120 : 180\n    }\n  }, rightSlot ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n    className: `rel ex rbor1 bbor1 fv ${$.css(pag === false && !isAuto || (ajax === null || ajax === void 0 ? void 0 : (_ajax$data4 = ajax.data) === null || _ajax$data4 === void 0 ? void 0 : _ajax$data4.length) === 0, 'bbor1')}`\n  }, TableComponent, loadingComponent, emptyComponent), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n    className: `rel fv ml10 ${$.css(rightSlot.className)}`,\n    style: {\n      width: rightSlot.width,\n      ...(rightSlot === null || rightSlot === void 0 ? void 0 : rightSlot.style)\n    }\n  }, rightSlot.slot)) : TableComponent), !rightSlot && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, null, loadingComponent, emptyComponent), $fn.hasArray(ajax.data) && pag !== false && pag !== 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n    className: `fxm ptb10 ${$.css(!isAuto && !rightSlot, 'tbor1')}`\n  }, $fn.getResult(prefix, ajax.pager), $fn.isNoFalse(pag === null || pag === void 0 ? void 0 : pag.showTotal) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n    className: \"g9 f12 nowrap\"\n  }, \"\\u5171 \", ajax !== null && ajax !== void 0 && (_ajax$pager3 = ajax.pager) !== null && _ajax$pager3 !== void 0 && _ajax$pager3.total ? ajax === null || ajax === void 0 ? void 0 : (_ajax$pager4 = ajax.pager) === null || _ajax$pager4 === void 0 ? void 0 : _ajax$pager4.total : ajax.data.length, \" \\u6761\\u6570\\u636E\"), $fn.getResult(suffix, ajax.pager), isPaging && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(Pagination, {\n    pager: ajax.pager,\n    pag: pag,\n    className: $.css(!prefix, 'ex'),\n    onChange: (current, pageSize) => {\n      fetch({\n        param: {\n          page: current,\n          size: pageSize\n        },\n        scroll: true\n      });\n      clearKeys();\n    }\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Index);\n\n//# sourceURL=webpack://jzer-react-template/./src/_pub/global/plugin/antd/table/index.jsx?");

/***/ }),

/***/ "./src/_pub/global/plugin/antd/table/utils/tool.js":
/*!*********************************************************!*\
  !*** ./src/_pub/global/plugin/antd/table/utils/tool.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_time__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @utils/time */ \"./src/_pub/common/utils/time.js\");\n\nconst {\n  $fn\n} = window;\nconst Index = {\n  // 将 search data 中的 value，组合搜索参数 { name: value }\n  getParam(data) {\n    let param = {};\n    if ($fn.hasArray(data)) {\n      data.forEach(v => {\n        if ($fn.isNotEmpty(v.value)) {\n          param[v.name] = v.value;\n        } else if ($fn.isNotEmpty(v.defaultValue) && v.type === 'date-range') {\n          param[v.name] = _utils_time__WEBPACK_IMPORTED_MODULE_0__[\"default\"].duration[v.defaultValue]();\n        }\n      });\n    }\n    return param;\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Index);\n\n//# sourceURL=webpack://jzer-react-template/./src/_pub/global/plugin/antd/table/utils/tool.js?");

/***/ })

}]);