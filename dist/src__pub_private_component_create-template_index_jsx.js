"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkjzer_react_template"] = self["webpackChunkjzer_react_template"] || []).push([["src__pub_private_component_create-template_index_jsx"],{

/***/ "./src/_pub/common/utils/copy.js":
/*!***************************************!*\
  !*** ./src/_pub/common/utils/copy.js ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/**\r\n * 复制内容\r\n */\nconst Index = value => {\n  let el = document.querySelector('#copy');\n  if (!el) {\n    el = document.createElement('textarea');\n    el.id = 'copy';\n    el.style = 'position:absolute;left:0;bottom:-10000;z-index:-1';\n    document.body.appendChild(el);\n  }\n  el.value = value;\n  el.select();\n  document.execCommand('copy');\n  // window.$fn.toast('复制成功')\n  window.$fn.msg.success('复制成功');\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Index);\n\n//# sourceURL=webpack://jzer-react-template/./src/_pub/common/utils/copy.js?");

/***/ }),

/***/ "./src/_pub/private/component/create-template/index.jsx":
/*!**************************************************************!*\
  !*** ./src/_pub/private/component/create-template/index.jsx ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ \"./node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var _utils_getJSON__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/getJSON */ \"./src/_pub/private/component/create-template/utils/getJSON.js\");\n/* harmony import */ var _utils_backJSON__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/backJSON */ \"./src/_pub/private/component/create-template/utils/backJSON.js\");\n/* harmony import */ var _utils_copy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @utils/copy */ \"./src/_pub/common/utils/copy.js\");\n\n\n/* -------------------------------------------------------- Sync Component -- */\n\n\n\n/* -------------------------------------------------------- Declare -- */\nconst {\n  $lazy,\n  $fn,\n  $http\n} = window;\n/* -------------------------------------------------------- Async Component -- */\nconst Page = $lazy.load(() => __webpack_require__.e(/*! import() */ \"src__pub_private_template_content_page-content_jsx\").then(__webpack_require__.bind(__webpack_require__, /*! #tp/content/page-content */ \"./src/_pub/private/template/content/page-content.jsx\")));\nconst Button = $lazy.load(() => Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_react-dom_index_js\"), __webpack_require__.e(\"vendors-node_modules_ant-design_icons_es_components_AntdIcon_js\"), __webpack_require__.e(\"vendors-node_modules_antd_es_config-provider_context_js-node_modules_rc-motion_es_index_js\"), __webpack_require__.e(\"vendors-node_modules_antd_es_button_index_js\"), __webpack_require__.e(\"vendors-node_modules_ant-design_icons_es_icons_ClearOutlined_js-node_modules_ant-design_icons-b5ba03\"), __webpack_require__.e(\"node_modules_ant-design_icons_es_icons_LoadingOutlined_js-node_modules_antd_es__util_type_js--af07f1\")]).then(__webpack_require__.bind(__webpack_require__, /*! @antd/button */ \"./src/_pub/global/plugin/antd/button.jsx\")));\nconst Input = $lazy.load(() => Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_react-dom_index_js\"), __webpack_require__.e(\"vendors-node_modules_ant-design_icons_es_components_AntdIcon_js\"), __webpack_require__.e(\"vendors-node_modules_antd_es__util_warning_js-node_modules_antd_es_config-provider_DisabledCo-bef5e4\"), __webpack_require__.e(\"vendors-node_modules_antd_es_config-provider_context_js-node_modules_rc-motion_es_index_js\"), __webpack_require__.e(\"vendors-node_modules_rc-field-form_es_index_js-node_modules_rc-field-form_es_useWatch_js\"), __webpack_require__.e(\"vendors-node_modules_ant-design_icons_es_icons_LoadingOutlined_js-node_modules_antd_es__util_-d6e2e1\"), __webpack_require__.e(\"vendors-node_modules_antd_es_button_index_js\"), __webpack_require__.e(\"vendors-node_modules_ant-design_icons_es_icons_CloseCircleFilled_js-node_modules_antd_es__uti-63122c\"), __webpack_require__.e(\"vendors-node_modules_ant-design_icons_es_icons_DownOutlined_js-node_modules_ant-design_icons_-773afd\"), __webpack_require__.e(\"vendors-node_modules_antd_es_input_index_js\"), __webpack_require__.e(\"vendors-node_modules_antd_es_input-number_index_js-node_modules_react-is_index_js-node_module-a6d17f\"), __webpack_require__.e(\"src__pub_global_plugin_antd_form_input_jsx\")]).then(__webpack_require__.bind(__webpack_require__, /*! @antd/form/input */ \"./src/_pub/global/plugin/antd/form/input.jsx\")));\nconst Select = $lazy.load(() => Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_react-dom_index_js\"), __webpack_require__.e(\"vendors-node_modules_ant-design_icons_es_components_AntdIcon_js\"), __webpack_require__.e(\"vendors-node_modules_antd_es__util_warning_js-node_modules_antd_es_config-provider_DisabledCo-bef5e4\"), __webpack_require__.e(\"vendors-node_modules_antd_es_config-provider_context_js-node_modules_rc-motion_es_index_js\"), __webpack_require__.e(\"vendors-node_modules_rc-field-form_es_index_js-node_modules_rc-field-form_es_useWatch_js\"), __webpack_require__.e(\"vendors-node_modules_ant-design_icons_es_icons_LoadingOutlined_js-node_modules_antd_es__util_-d6e2e1\"), __webpack_require__.e(\"vendors-node_modules_rc-trigger_es_index_js\"), __webpack_require__.e(\"vendors-node_modules_ant-design_icons_es_icons_CloseOutlined_js-node_modules_antd_es_locale_d-2f2b66\"), __webpack_require__.e(\"vendors-node_modules_ant-design_icons_es_icons_CloseCircleFilled_js-node_modules_antd_es__uti-63122c\"), __webpack_require__.e(\"vendors-node_modules_ant-design_icons_es_icons_DownOutlined_js-node_modules_ant-design_icons_-773afd\"), __webpack_require__.e(\"vendors-node_modules_rc-overflow_es_index_js\"), __webpack_require__.e(\"vendors-node_modules_antd_es_config-provider_defaultRenderEmpty_js-node_modules_antd_es_selec-f7bb4d\"), __webpack_require__.e(\"vendors-node_modules_antd_es_select_index_js-node_modules_react-is_index_js\"), __webpack_require__.e(\"src__pub_global_plugin_antd_form_select_jsx\")]).then(__webpack_require__.bind(__webpack_require__, /*! @antd/form/select */ \"./src/_pub/global/plugin/antd/form/select.jsx\")));\nconst Switch = $lazy.load(() => Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_ant-design_icons_es_components_AntdIcon_js\"), __webpack_require__.e(\"vendors-node_modules_antd_es_switch_index_js-node_modules_babel_runtime_helpers_esm_objectWit-7aa7e8\"), __webpack_require__.e(\"src__pub_global_plugin_antd_form_switch_jsx\")]).then(__webpack_require__.bind(__webpack_require__, /*! @antd/form/switch */ \"./src/_pub/global/plugin/antd/form/switch.jsx\")));\nconst Checkbox = $lazy.load(() => Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_antd_es__util_warning_js-node_modules_antd_es_config-provider_DisabledCo-bef5e4\"), __webpack_require__.e(\"vendors-node_modules_rc-field-form_es_index_js-node_modules_rc-field-form_es_useWatch_js\"), __webpack_require__.e(\"vendors-node_modules_antd_es_checkbox_index_js\"), __webpack_require__.e(\"vendors-node_modules_antd_es_config-provider_context_js-node_modules_antd_es_form_context_js--6604ba0\"), __webpack_require__.e(\"src__pub_global_plugin_antd_form_checkbox_jsx\")]).then(__webpack_require__.bind(__webpack_require__, /*! @antd/form/checkbox */ \"./src/_pub/global/plugin/antd/form/checkbox.jsx\")));\n/* -------------------------------------------------------- Data -- */\nconst dataType = [{\n  label: '字符串',\n  value: 'string'\n}, {\n  label: '数字',\n  value: 'number'\n}, {\n  label: '布尔值',\n  value: 'bool'\n}];\n/* -------------------------------------------------------- Page Component -- */\nconst Index = ({\n  data,\n  component,\n  option\n}) => {\n  const [result, setResult] = react__WEBPACK_IMPORTED_MODULE_1__.useState($fn.deepCopy(data));\n  const [showName, setShowName] = react__WEBPACK_IMPORTED_MODULE_1__.useState(false);\n  const [key, setKey] = react__WEBPACK_IMPORTED_MODULE_1__.useState(0);\n  const [addKey, setAddKey] = react__WEBPACK_IMPORTED_MODULE_1__.useState(0);\n  const [selectKey, setSelectKey] = react__WEBPACK_IMPORTED_MODULE_1__.useState(0);\n  const Title = ({\n    name,\n    title\n  }) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"h6\", {\n    style: {\n      minWidth: 120,\n      margin: '0 5px 0 0'\n    },\n    className: \"h28 tr f12 g6\",\n    title: title\n  }, name, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"i\", {\n    className: \"g9 ml5\"\n  }, \":\"));\n  /* ========================================================================================= */\n  const param = react__WEBPACK_IMPORTED_MODULE_1__.useRef({});\n  react__WEBPACK_IMPORTED_MODULE_1__.useEffect(() => {\n    if (option !== null && option !== void 0 && option.getApi) {\n      const {\n        id\n      } = $fn.query();\n      $http.pull(null, option === null || option === void 0 ? void 0 : option.getApi, {\n        id,\n        loading: true\n      }).then(data => {\n        param.current = data;\n        if ($fn.hasObject(data === null || data === void 0 ? void 0 : data.wetSetting)) {\n          try {\n            setResult(d => [...(0,_utils_backJSON__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(data.wetSetting, d)]);\n          } catch (e) {\n            $fn.msg.error('JSON 格式不正确，请检查');\n          }\n        } else {\n          setResult(d => [...(0,_utils_backJSON__WEBPACK_IMPORTED_MODULE_3__[\"default\"])($fn.local('templateConfig'), d)]);\n        }\n      });\n    } else {\n      setResult(d => [...(0,_utils_backJSON__WEBPACK_IMPORTED_MODULE_3__[\"default\"])($fn.local('templateConfig'), d)]);\n    }\n  }, [option]);\n  /* ========================================================================================= */\n  // 缓存\n  const save = react__WEBPACK_IMPORTED_MODULE_1__.useCallback(() => setTimeout(() => $fn.local('templateConfig', (0,_utils_getJSON__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(result)), 200), [result]);\n  // 排序\n  const getSortData = data => {\n    const d = Array.from({\n      length: data.length\n    }, (value, index) => ({\n      label: index + 1,\n      value: index + 1\n    }));\n    return d;\n  };\n  // 编辑 Function\n  const onFunc = row => {\n    const isAdd = $fn.isEmpty(row.value);\n    window.$modalRef().open({\n      title: '编写 JS',\n      width: '99%',\n      height: '99%',\n      slot: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n        className: \"rel wh bcf p10\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"textarea\", {\n        spellCheck: false,\n        className: \"bor1 wh p10 lh22 r5px\",\n        id: \"jsCodeTarget\",\n        style: {\n          background: '#fdf7f2'\n        }\n      })),\n      style: {\n        background: '#f5f5f5',\n        padding: 5\n      },\n      onOpen: () => {\n        if (!isAdd) document.querySelector('#jsCodeTarget').value = row.value;\n      },\n      onCancel: () => true,\n      onOk: () => {\n        row.value = document.querySelector('#jsCodeTarget').value;\n        save();\n        return true;\n      },\n      controls: {\n        ok: {\n          label: '保存'\n        },\n        after: [{\n          label: '清空',\n          ghost: 1,\n          click: () => {\n            document.querySelector('#jsCodeTarget').value = '';\n            save();\n          }\n        }]\n      }\n    });\n  };\n  // 更新数据\n  const update = react__WEBPACK_IMPORTED_MODULE_1__.useCallback(() => {\n    setResult([...result]);\n    save();\n  }, [save, result]);\n  const color = ['red', '#ccc', 'blue'];\n  // 事件按钮\n  const EventButton = ({\n    row\n  }) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(Button, {\n    size: \"mini\",\n    ghost: true,\n    mode: $fn.isEmpty(row === null || row === void 0 ? void 0 : row.value) ? 'mod' : 'add',\n    label: `${$fn.isEmpty(row === null || row === void 0 ? void 0 : row.value) ? '添加' : '编写'}事件`,\n    style: {\n      height: 22\n    },\n    onClick: () => onFunc(row)\n  });\n  // 组件递归\n  const DeepComponent = ({\n    data,\n    index = 0,\n    hasChildren,\n    open,\n    isOpen,\n    show,\n    isTwo,\n    isObjectData,\n    isArray\n  }) => {\n    const style = hasChildren ? {\n      border: `1px ${open ? 'red' : color[index - 1]} dotted`,\n      padding: 10,\n      borderRadius: 5\n    } : null;\n    index++;\n    if (index === 1) {\n      hasChildren = false;\n    }\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"ul\", {\n      key: key,\n      className: `${isTwo || !isTwo && isArray && open !== true || isOpen && open !== true ? 'fx' : 'fv'}  ex`,\n      hidden: show !== true,\n      style: {\n        gap: 5,\n        marginLeft: 45 * (index - 1),\n        ...style\n      }\n    }, $fn.hasArray(data) && data.map((v, i) => {\n      var _v$children;\n      const prop = {\n        value: v.value,\n        onChange: value => {\n          v.value = value;\n          save();\n        }\n      };\n      let Element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n        className: \"fxm ex\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(Input, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        className: \"ex\"\n      }, prop)), isObjectData && v.key === 'value' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n        className: \"ml10\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(Select, {\n        width: 85,\n        hint: \"\",\n        value: v.dataType,\n        label: \"\\u6570\\u636E\\u7C7B\\u578B\",\n        data: dataType,\n        onChange: value => {\n          v.dataType = value;\n          save();\n        }\n      })));\n      switch (v.type) {\n        case 'number':\n          Element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(Input, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            type: \"number\",\n            className: \"ex\"\n          }, prop));\n          break;\n        case 'select':\n          Element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(Select, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            className: \"ex\"\n          }, prop, {\n            width: 160,\n            data: v.data\n          }));\n          break;\n        case 'switch':\n          Element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(Switch, prop);\n          break;\n        case 'function':\n          Element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(EventButton, {\n            row: v\n          });\n          break;\n        case 'jsx':\n          Element = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n            className: \"g9 f12 h28\"\n          }, \"\\u4EC5\\u4EE3\\u7801\\u4E2D\\u914D\\u7F6E\");\n          break;\n        default:\n      }\n      const hidden = open !== true && (!isTwo && isArray || isOpen);\n      const Component = v.children ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"li\", {\n        hidden: v.isLabelValueData || hidden\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n        className: \"fxm\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(Title, {\n        name: showName ? v.key : v.title,\n        title: v.key\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n        className: \"fxm\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(Checkbox, {\n        value: v.add,\n        label: \"\\u6DFB\\u52A0\",\n        disabled: v.children.length === 0,\n        bool: true,\n        onChange: value => {\n          v.add = value;\n          v.show = value;\n          update();\n        }\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(Checkbox, {\n        value: v.show,\n        label: \"\\u5C55\\u5F00\",\n        disabled: v.children.length === 0,\n        bool: true,\n        onChange: value => {\n          v.show = value;\n          update();\n        }\n      }), v.isLabelValueData && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n        hidden: !v.show,\n        className: \"mr10\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(Select, {\n        width: 85,\n        value: v.dataType,\n        hint: \"\",\n        label: \"\\u6570\\u636E\\u7C7B\\u578B\",\n        data: dataType,\n        onChange: value => {\n          v.dataType = value;\n        }\n      })), index > 1 && v.addData && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(Button, {\n        size: \"mini\",\n        label: \"\\u6DFB\\u52A0\",\n        style: {\n          height: 22\n        },\n        onClick: () => {\n          if (v.children.length === 0) {\n            v.children.push($fn.deepCopy(v.addData));\n            v.show = true;\n            v.add = true;\n          } else {\n            if (v.show) {\n              v.children.push($fn.deepCopy(v.addData));\n              setAddKey(k => k + 1);\n            } else {\n              v.show = true;\n            }\n          }\n          update();\n        }\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(Button, {\n        size: \"mini\",\n        label: \"\\u6E05\\u7A7A\",\n        ghost: true,\n        className: \"mlr10\",\n        style: {\n          height: 22\n        },\n        onClick: () => {\n          v.children = [];\n          v.show = false;\n          v.add = false;\n          update();\n        }\n      })), v.isFunction && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(EventButton, {\n        row: v\n      }))), v.children && ($fn.isObject((_v$children = v.children) === null || _v$children === void 0 ? void 0 : _v$children[0]) ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n        className: v.isOpen && v.open !== true ? 'fxm' : 'fx',\n        style: {\n          gap: 5\n        }\n      }, DeepComponent({\n        data: v.children,\n        hasChildren: true,\n        index,\n        open: v.open,\n        isOpen: v.isOpen,\n        isArray: v.isArray,\n        show: v.show,\n        isTwo: v.isTwo,\n        isObjectData: v.isObjectData\n      }), v.isOpen && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(Button, {\n        size: \"mini\",\n        hidden: v.show !== true,\n        style: {\n          height: 22\n        },\n        label: v.open ? '收缩' : '展开',\n        onClick: () => {\n          v.open = !v.open;\n          update();\n        }\n      })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n        className: \"fv rel\",\n        style: {\n          gap: 5\n        },\n        key: addKey,\n        hidden: v.show !== true\n      }, v.children.map((m, k) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n        key: k,\n        className: ` rel ${v.isTwo ? 'fxm' : 'fx'}`\n      }, DeepComponent({\n        data: m,\n        hasChildren: true,\n        index,\n        open: m.open,\n        isOpen: v.isOpen,\n        isArray: v.isArray,\n        show: v.show,\n        isTwo: v.isTwo,\n        isObjectData: v.isObjectData\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n        className: `ml10 ${v.isTwo || m.open !== true && v.isArray ? 'fxm' : 'fv'}`,\n        style: {\n          gap: 5\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(Button, {\n        size: \"mini\",\n        style: {\n          height: 22\n        },\n        label: \"\\u5220\\u9664\",\n        onClick: () => {\n          v.children.splice(k, 1);\n          if (v.children.length === 0) {\n            v.add = false;\n            v.show = false;\n          }\n          update();\n          setAddKey(k => k - 1);\n        }\n      }), !v.isTwo && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(Button, {\n        size: \"mini\",\n        style: {\n          height: 22\n        },\n        label: m.open ? '收缩' : '展开',\n        onClick: () => {\n          m.open = !m.open;\n          update();\n        }\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(Select, {\n        p: \"\\u6392\\u5E8F\",\n        key: selectKey,\n        value: k + 1,\n        width: 60,\n        antd: {\n          showSearch: false\n        },\n        allowClear: false,\n        data: getSortData(v.children),\n        onChange: value => {\n          v.children.splice(k, 1);\n          v.children.splice(value - 1, 0, m);\n          update();\n          setSelectKey(k => k + 1);\n        }\n      }))))))) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"li\", {\n        hidden: i > 2 && hidden,\n        className: `fxm ${isTwo || hidden ? 'ex' : ''}`\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(Title, {\n        name: showName ? v.key : v.title,\n        title: v.key\n      }), Element);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n        key: i\n      }, Component);\n    }));\n  };\n  const pageConfig = {\n    title: '生成模板数据',\n    scroll: true,\n    contentClass: 'p10 jzer-form-small',\n    controls: [{\n      label: '清空缓存',\n      ghost: 1,\n      click: () => {\n        $fn.localRemove('templateConfig');\n        setResult($fn.deepCopy(data));\n        setKey(key => key + 1);\n      }\n    }, {\n      label: '显示字段名',\n      ghost: 1,\n      click: () => setShowName(v => !v)\n    }, option !== null && option !== void 0 && option.createJson ? {\n      label: '生成 JSON',\n      click() {\n        const json = (0,_utils_getJSON__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(result);\n        window.$modalRef().open({\n          title: '生成 JSON',\n          width: '80%',\n          height: '80%',\n          slot: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n            className: \"rel wh bcf p10\"\n          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"textarea\", {\n            spellCheck: false,\n            className: \"bor1 wh p10 lh22 r5px\",\n            id: \"copyTarget\",\n            onChange: () => {},\n            style: {\n              background: '#fdf7f2'\n            },\n            value: JSON.stringify(json, null, '\\t')\n          })),\n          style: {\n            background: '#f5f5f5',\n            padding: 5\n          },\n          onCancel: close => true,\n          controls: {\n            ok: {\n              label: '复制',\n              click: () => (0,_utils_copy__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(document.querySelector('#copyTarget').value)\n            }\n          }\n        });\n      }\n    } : null, option !== null && option !== void 0 && option.importJson ? {\n      label: '导入 JSON',\n      click() {\n        window.$modalRef().open({\n          title: '生成 JSON',\n          width: '80%',\n          height: '80%',\n          slot: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n            className: \"rel wh bcf p10\"\n          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"textarea\", {\n            spellCheck: false,\n            placeholder: \"\\u8BF7\\u8F93\\u5165 JSON\",\n            className: \"bor1 wh p10 lh22 r5px\",\n            id: \"importTarget\",\n            style: {\n              background: '#fdf7f2'\n            }\n          })),\n          style: {\n            background: '#f5f5f5',\n            padding: 5\n          },\n          onCancel: close => true,\n          controls: {\n            ok: {\n              label: '导入',\n              click: () => {\n                try {\n                  const {\n                    value\n                  } = document.querySelector('#importTarget');\n                  const json = JSON.parse(value);\n                  setResult((0,_utils_backJSON__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(json, $fn.deepCopy(data)));\n                  $fn.msg.success('导入成功');\n                  window.$modalRef().close();\n                } catch (e) {\n                  $fn.msg.error('JSON 格式不正确，请检查');\n                }\n              }\n            }\n          }\n        });\n      }\n    } : null, {\n      label: '预览',\n      click: () => {\n        const json = (0,_utils_getJSON__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(result);\n        if (!$fn.hasObject(json)) return $fn.msg.warning('未添加配置');\n        window.$modalRef().open({\n          title: '预览页面',\n          slot: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n            className: \"rel wh\"\n          }, component(json)),\n          full: true,\n          style: {\n            background: '#f5f5f5',\n            padding: 5\n          },\n          onCancel: close => true,\n          controls: {\n            ok: 0\n          }\n        });\n      }\n    }, option !== null && option !== void 0 && option.saveApi ? {\n      label: '保存',\n      click() {\n        const json = (0,_utils_getJSON__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(result);\n        if (!$fn.hasObject(json)) return $fn.msg.warning('未添加配置');\n        $http.post(null, option === null || option === void 0 ? void 0 : option.saveApi, {\n          param: {\n            ...param.current,\n            [(option === null || option === void 0 ? void 0 : option.jsonStr) ?? 'json']: JSON.stringify(json)\n          }\n        }).then(() => {\n          $fn.msg.success('保存成功');\n          $fn.back();\n        });\n      }\n    } : null, option !== null && option !== void 0 && option.back ? {\n      mode: 'back'\n    } : null]\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(Page, pageConfig, DeepComponent({\n    data: result,\n    show: true\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Index);\n\n//# sourceURL=webpack://jzer-react-template/./src/_pub/private/component/create-template/index.jsx?");

/***/ }),

/***/ "./src/_pub/private/component/create-template/utils/backJSON.js":
/*!**********************************************************************!*\
  !*** ./src/_pub/private/component/create-template/utils/backJSON.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* -------------------------------------------------------- 回显 JSON -- */\nconst {\n  $fn\n} = window;\nconst getDataType = value => {\n  if ($fn.isNumber(value)) {\n    return 'number';\n  } else if ($fn.isBoolean(value)) {\n    return 'bool';\n  } else {\n    return 'string';\n  }\n};\n// 数据转换: [{ x:1, y:1, z:1 }] => [{ key:'x', value:1 }, { key:'y', value:1 }, { key:'z', value:1 }]\nconst toData_1 = (jsonData, addData) => {\n  let rs = [];\n  jsonData.forEach(item => {\n    const copyTempData = $fn.deepCopy(addData);\n    for (let i in item) {\n      const jsonValue = item[i];\n      copyTempData.forEach(v => {\n        if (i === v.key) {\n          if ($fn.isObject(jsonValue) && $fn.hasArray(v.children) && (v.isObject || v.isArray)) {\n            v.add = true;\n            v.show = true;\n            deep(jsonValue, v.children);\n          } else if ($fn.isArray(jsonValue) && v.isLabelValueData && v.isArray) {\n            var _jsonValue$;\n            v.add = true;\n            v.show = true;\n            v.dataType = getDataType(jsonValue === null || jsonValue === void 0 ? void 0 : (_jsonValue$ = jsonValue[0]) === null || _jsonValue$ === void 0 ? void 0 : _jsonValue$.value);\n            v.children = toData_3(jsonValue, v.addData);\n          } else {\n            v.value = jsonValue;\n          }\n        }\n      });\n    }\n    rs.push(copyTempData);\n  });\n  return rs;\n};\n// 数据转换：{x:1, y:1} => [ { key:'label', value:1 }, { key:'value', value:1 } ]\nconst toData_2 = (jsonData, addData) => {\n  let rs = [];\n  for (let i in jsonData) {\n    const copyTempData = $fn.deepCopy(addData);\n    copyTempData[0].value = i;\n    copyTempData[1].value = jsonData[i];\n    console.log(jsonData[i]);\n    copyTempData[1].dataType = getDataType(jsonData[i]);\n    rs.push(copyTempData);\n  }\n  return rs;\n};\n// 数据转换：[{label:'是', value:1}] => [ { key:'label', value:1 }, { key:'value', value:1 } ]\nconst toData_3 = (jsonData, addData) => {\n  let rs = [];\n  jsonData.forEach(v => {\n    const copyTempData = $fn.deepCopy(addData);\n    copyTempData[0].value = v.label;\n    copyTempData[1].value = v.value;\n    rs.push(copyTempData);\n  });\n  return rs;\n};\nconst deep = (jsonData, tempData) => {\n  if ($fn.hasObject(jsonData)) {\n    for (let i in jsonData) {\n      const jsonValue = jsonData[i];\n      tempData.forEach(v => {\n        if (i === v.key) {\n          if ($fn.isObject(jsonValue) && $fn.hasArray(v.children) && v.isObject) {\n            v.add = true;\n            v.show = true;\n            deep(jsonValue, v.children);\n          } else if ($fn.hasArray(jsonValue) && $fn.hasArray(v.addData) && v.isArray) {\n            v.add = true;\n            v.show = true;\n            v.children = toData_1(jsonValue, v.addData);\n          } else if ($fn.isObject(jsonValue) && v.isObjectData && $fn.hasArray(v.addData)) {\n            v.add = true;\n            v.show = true;\n            v.children = toData_2(jsonValue, v.addData);\n          } else {\n            v.value = jsonValue;\n          }\n        }\n      });\n    }\n  } else if ($fn.hasArray(jsonData)) {\n    jsonData.forEach(v => deep(v, tempData));\n  }\n};\nconst Index = (jsonData, tempData) => {\n  if (!$fn.hasArray(tempData) || !$fn.hasObject(jsonData)) return tempData;\n  deep(jsonData, tempData);\n  return tempData;\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Index);\n\n//# sourceURL=webpack://jzer-react-template/./src/_pub/private/component/create-template/utils/backJSON.js?");

/***/ }),

/***/ "./src/_pub/private/component/create-template/utils/getJSON.js":
/*!*********************************************************************!*\
  !*** ./src/_pub/private/component/create-template/utils/getJSON.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* -------------------------------------------------------- 获取 JSON -- */\nconst {\n  $fn\n} = window;\nconst setDataType = (type, value) => {\n  if (type === 'bool') {\n    value = Boolean($fn.isNumber(value * 1) ? value * 1 : value);\n  } else if (type === 'number') {\n    if (value === 'true') {\n      value = 1;\n    } else if (value === 'false') {\n      value = 0;\n    } else {\n      value = value * 1;\n    }\n  }\n  return value;\n};\nconst deep = (data, json, dataType) => {\n  data.forEach(items => {\n    let {\n      key,\n      children,\n      value,\n      add,\n      isObject,\n      isArray,\n      isObjectData,\n      isFunction\n    } = items;\n    if (isFunction && $fn.isString(value)) {\n      json[key] = value;\n      return;\n    }\n    if (children) {\n      if (!add) return;\n      if ($fn.hasArray(children)) {\n        const isOneArray = $fn.isObject(children === null || children === void 0 ? void 0 : children[0]);\n        const isTowArray = $fn.isArray(children === null || children === void 0 ? void 0 : children[0]);\n        if (isOneArray) {\n          json[key] = {};\n          deep(children, json[key]);\n        } else if (isTowArray) {\n          json[key] = isObject ? {} : [];\n          const doubleDeep = (row, json, dataType) => {\n            row.forEach(m => {\n              let stack = {};\n              m.forEach(p => {\n                if (p.children) {\n                  var _p$children;\n                  if (!p.add) return;\n                  stack[p.key] = p.isObject ? {} : [];\n                  if ($fn.isArray(p === null || p === void 0 ? void 0 : (_p$children = p.children) === null || _p$children === void 0 ? void 0 : _p$children[0])) {\n                    doubleDeep(p.children, stack[p.key], p.dataType);\n                  } else {\n                    deep(p.children, stack[p.key]);\n                  }\n                } else {\n                  if ($fn.isNotEmpty(p.value)) {\n                    if (isObjectData) {\n                      stack[p.key] = p.key === 'value' ? setDataType(p.dataType, p.value) : p.value;\n                    } else if (p.isArrayGroup && p.value.indexOf(',') > 0) {\n                      stack[p.key] = p.value.split(',');\n                    } else {\n                      stack[p.key] = p.key === 'value' ? setDataType(dataType, p.value) : p.value;\n                    }\n                  }\n                }\n              });\n              if (isObjectData) {\n                if ($fn.isNotEmpty(stack.value) && $fn.isNotEmpty(stack.label)) json[stack.label] = setDataType(dataType, stack.value);\n              } else {\n                if ($fn.hasObject(stack)) json.push(stack);\n              }\n            });\n          };\n          doubleDeep(children, json[key], dataType);\n          if (isArray && !$fn.hasArray(json[key])) delete json[key];\n          if (isObject && !$fn.hasObject(json[key])) delete json[key];\n        }\n      }\n    } else {\n      if ($fn.isNotEmpty(value)) json[key] = value;\n    }\n  });\n};\nconst Index = data => {\n  const json = {};\n  deep(data, json);\n  return json;\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Index);\n\n//# sourceURL=webpack://jzer-react-template/./src/_pub/private/component/create-template/utils/getJSON.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/extends.js":
/*!************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/extends.js ***!
  \************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _extends; }\n/* harmony export */ });\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\n//# sourceURL=webpack://jzer-react-template/./node_modules/@babel/runtime/helpers/esm/extends.js?");

/***/ })

}]);