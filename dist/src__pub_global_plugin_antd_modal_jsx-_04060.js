"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkjzer_react_template"] = self["webpackChunkjzer_react_template"] || []).push([["src__pub_global_plugin_antd_modal_jsx-_04060"],{

/***/ "./src/_pub/global/plugin/antd/modal.jsx":
/*!***********************************************!*\
  !*** ./src/_pub/global/plugin/antd/modal.jsx ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ \"./node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! antd */ \"./node_modules/antd/es/modal/index.js\");\n\n\n/* -------------------------------------------------------- antd -- */\n\n/* -------------------------------------------------------- Declare -- */\nconst {\n  $lazy,\n  $,\n  $fn\n} = window;\n/* -------------------------------------------------------- Async Component -- */\nconst Controls = $lazy.load(() => Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_prop-types_index_js\"), __webpack_require__.e(\"vendors-node_modules_react-router_esm_react-router_js\"), __webpack_require__.e(\"src__pub_private_component_temp_Controls_jsx\")]).then(__webpack_require__.bind(__webpack_require__, /*! #cpt/temp/Controls */ \"./src/_pub/private/component/temp/Controls.jsx\")));\nconst Loading = $lazy.load(() => Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_antd_es_spin_index_js\"), __webpack_require__.e(\"src__pub_global_plugin_antd_loading_jsx-_06dc1\")]).then(__webpack_require__.bind(__webpack_require__, /*! @antd/loading */ \"./src/_pub/global/plugin/antd/loading.jsx\")));\n/* -------------------------------------------------------- 菜单 -- */\nconst Index = (props, ref) => {\n  const [config, setConfig] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(props);\n  let {\n    style,\n    /** @param {Object}\t\t\t\t# 盒子 bodyStyle */\n    children,\n    /** @param {Compoennt}\t\t \t# Slot */\n    slot,\n    /** @param {Compoennt}\t\t \t# Slot */\n    onClose,\n    /** @param {Event}\t\t \t\t# 关闭后执行 */\n    onOk,\n    /** @param {Event}\t\t \t\t# 确认时执行 */\n    onOpenBefore,\n    /** @param {Event}\t\t \t\t# 打开之前执行 */\n    onOpen,\n    /** @param {Event}\t\t \t\t# 打开之后执行 */\n    onOpenClose,\n    /** @param {Event}\t\t \t\t# 打开与关闭时执行 */\n    onCancel,\n    /** @param {Event}\t\t \t\t# 点击取消时执行 */\n    onReset,\n    /** @param {Event}\t\t \t\t# 重置执行 */\n    scroll = true,\n    /** @param {Boolean}\t\t \t# 是否滚动 */\n    full = false,\n    /** @param {Boolean}\t\t \t# 关闭时销毁 Modal 里的子元素 */\n    destroy = true,\n    /** @param {Boolean}\t\t \t# 关闭时 */\n    loading,\n    /** @param {Boolean}\t\t \t# 按钮加载效果 */\n    disabled,\n    /** @param {Boolean}\t\t \t# 禁用 */\n    loadingSize,\n    /** @param {Boolean}\t\t \t# 加载大小 */\n    mode,\n    /** @param {Number}\t\t \t\t# 弹框模式 */\n    formRef,\n    /** @param {Object}\t\t \t\t# 表单 Ref */\n    // 标题\n    title,\n    /** @param {String}\t\t \t\t# 标题 */\n    subTitle,\n    /** @param {String}\t\t \t\t# 副标题 */\n    titleAfter,\n    /** @param {Component}\t\t \t# 标题是否居中 */\n    titleRight,\n    /** @param {Component}\t\t \t# 标题是否居中 */\n    center = true,\n    /** @param {Boolean}\t\t \t# 标题是否居中 */\n    //\n    controls = {},\n    /** @param {Object, Array, Boolean}\t# 操作按钮  */\n    //\t\n    open,\n    /** @param {Boolean}\t\t \t\t# 对话框是否可见 */\n    width,\n    /** @param {Number, String}\t\t\t# 弹窗宽度 */\n    height,\n    /** @param {Number, String}\t\t\t# 弹窗高度 */\n    antd = {} /** @param {Object}\t\t\t\t\t# antd */\n  } = config;\n  const close = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    setShow(false);\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    setConfig(props);\n  }, [props]);\n\n  // 设置底部按钮\n  const setControls = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(controls => {\n    const {\n      add,\n      mod\n    } = config;\n    controls = $fn.getResult(controls, {\n      close,\n      formRef,\n      add,\n      mod\n    });\n    if ($fn.isObject(controls)) {\n      let {\n        ok,\n        cancel,\n        reset = 0,\n        before = [],\n        after = []\n      } = controls;\n      if (cancel === false || cancel === 0) cancel = {\n        hide: true\n      };\n      if (ok === false || ok === 0) ok = {\n        hide: true\n      };\n      if (reset === false || reset === 0) reset = {\n        hide: true\n      };\n      return [...before, {\n        label: '取消',\n        type: 'default',\n        click: () => {\n          var _controls2;\n          const _onCancel = ((_controls2 = controls) === null || _controls2 === void 0 ? void 0 : _controls2.onCancel) ?? onCancel;\n          const bool = _onCancel === null || _onCancel === void 0 ? void 0 : _onCancel(close);\n          if (bool !== false) {\n            close();\n          }\n        },\n        ...cancel\n      }, {\n        label: '重置',\n        type: 'default',\n        click: () => {\n          var _formRef, _formRef$reset, _controls3;\n          (_formRef = formRef()) === null || _formRef === void 0 ? void 0 : (_formRef$reset = _formRef.reset) === null || _formRef$reset === void 0 ? void 0 : _formRef$reset.call(_formRef);\n          const _onReset = ((_controls3 = controls) === null || _controls3 === void 0 ? void 0 : _controls3.onReset) ?? onReset;\n          const bool = _onReset === null || _onReset === void 0 ? void 0 : _onReset({\n            close,\n            formRef\n          });\n          if (bool) {\n            close();\n          }\n        },\n        ...reset\n      }, {\n        label: '确认',\n        click: () => {\n          if ((onOk === null || onOk === void 0 ? void 0 : onOk({\n            close,\n            formRef\n          })) === true) {\n            close();\n          }\n        },\n        ...ok\n      }, ...after];\n    } else {\n      return controls;\n    }\n  }, [formRef, onReset, close, onCancel, onOk, config]);\n  const [show, setShow] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(open);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    setTimeout(() => {\n      show ? onOpen === null || onOpen === void 0 ? void 0 : onOpen() : onClose === null || onClose === void 0 ? void 0 : onClose();\n      onOpenClose === null || onOpenClose === void 0 ? void 0 : onOpenClose(show);\n    });\n  }, [show, onOpen, onClose, onOpenClose]);\n  const openModal = value => {\n    onOpenBefore === null || onOpenBefore === void 0 ? void 0 : onOpenBefore();\n    setShow(true);\n    if ($fn.hasObject(value)) {\n      setConfig(value);\n    }\n  };\n  const c = controls !== false || controls !== 0 ? 45 : 0;\n  const t = title ? 40 : 0;\n  const maxHeight = scroll ? document.body.clientHeight - c - t + 'px' : '100%';\n  const btnData = setControls(controls);\n  const _controls = controls !== false && controls !== 0 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(Controls, {\n    data: btnData,\n    align: (controls === null || controls === void 0 ? void 0 : controls.align) ?? 'center',\n    size: (controls === null || controls === void 0 ? void 0 : controls.size) ?? 'middle',\n    disabled: disabled,\n    loading: loading\n  }) : null;\n  const _title = $fn.isString(title) ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n    className: `f13 ${center ? 'fxmc' : 'fxm'}`\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"b\", {\n    className: \"f15\"\n  }, title), subTitle && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"span\", {\n    className: \"c0 n ml5\"\n  }, \"( \", subTitle, \" )\"), titleAfter, titleRight) : title;\n  if (full) {\n    width = '100%';\n    height = '100%';\n  }\n  antd = {\n    title: _title,\n    open: show,\n    footer: _controls,\n    width,\n    height,\n    destroyOnClose: destroy,\n    maskClosable: false,\n    wrapClassName: `jzer-modal-wrap ${$.css(scroll, 'jzer-modal-scroll')} ${$.css(full, 'jzer-modal-full')} ${$.css(mode, 'jzer-modal-mode-' + mode)} ${$.css(loading, 'jzer-modal-scroll-hidden')}`,\n    bodyStyle: {\n      padding: 10,\n      maxHeight,\n      ...style\n    },\n    ...antd\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(ref, () => ({\n    open: openModal,\n    close\n  }));\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(antd__WEBPACK_IMPORTED_MODULE_2__[\"default\"], (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    onCancel: close\n  }, antd), children, $.cpt(slot), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(Loading, {\n    loading: loading,\n    size: loadingSize,\n    style: {\n      position: scroll ? 'fixed' : 'absoulte'\n    }\n  }));\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Index);\n\n//# sourceURL=webpack://jzer-react-template/./src/_pub/global/plugin/antd/modal.jsx?");

/***/ })

}]);